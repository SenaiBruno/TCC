<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mensagens - Plataforma</title>
    <link rel="stylesheet" href="../static/style.css">
    <link rel="stylesheet" href="../static/mensagens.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar de Conversas -->
        <aside class="sidebar-conversas">
            <div class="header-mensagens">
                <div class="header-top">
                    <div class="header-title-section">
                        <a href="home.html" class="btn-voltar-mensagens" title="Voltar">
                            <i class="fa-solid fa-chevron-left"></i>
                        </a>
                        <h2>Mensagens</h2>
                    </div>
                </div>
                <div class="usuario-logado">Olá, <span id="userLoggedName">Você</span></div>
                <button class="btn-nova-conversa" id="btnNovaConversa">
                    <i class="fa-solid fa-plus"></i>
                    <span>Nova Conversa</span>
                </button>
            </div>

            <div class="busca-conversas">
                <input type="text" id="buscaConversa" placeholder="Buscar conversa...">
            </div>

            <div class="lista-conversas" id="listaConversas">
                <!-- Conversas serão carregadas dinamicamente -->
            </div>
        </aside>

        <!-- Área de Chat -->
        <section class="area-chat">
            <div class="chat-header">
                <div class="info-conversa">
                    <div class="dados-contato">
                        <h2>Bem-vindo ao Chat</h2>
                        <p class="status-texto">Selecione uma conversa para começar</p>
                    </div>
                </div>
                <div class="opcoes-chat">
                    <button class="btn-opcao" title="Buscar na conversa">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                    <button class="btn-opcao" title="Informações">
                        <i class="fa-solid fa-circle-info"></i>
                    </button>
                    <button class="btn-opcao" title="Menu">
                        <i class="fa-solid fa-ellipsis-vertical"></i>
                    </button>
                </div>
            </div>

            <!-- Mensagens -->
            <div class="mensagens-container" id="mensagensContainer">
                <div class="empty-chat-state">
                    <div class="empty-chat-icon">
                        <i class="fa-solid fa-comments"></i>
                    </div>
                    <h3>Selecione uma conversa</h3>
                    <p>Escolha uma conversa existente na lista ao lado ou clique em "Nova Conversa" para começar a conversar.</p>
                    <button class="btn-start-chat" onclick="document.getElementById('btnNovaConversa').click()">
                        <i class="fa-solid fa-plus"></i>
                        Iniciar Nova Conversa
                    </button>
                </div>
            </div>

            <!-- Input de Mensagem -->
            <div class="input-mensagem">
                <button class="btn-anexo" title="Anexar arquivo">
                    <i class="fa-solid fa-paperclip"></i>
                </button>
                <input type="text" id="inputMensagem" placeholder="Digite uma mensagem..." class="campo-mensagem">
                <button class="btn-emoji" title="Emojis">
                    <i class="fa-solid fa-face-smile"></i>
                </button>
                <button class="btn-enviar" id="btnEnviar" title="Enviar mensagem">
                    <i class="fa-solid fa-paper-plane"></i>
                </button>
            </div>
        </section>
    </div>

    <!-- Modal de Nova Conversa -->
    <div class="modal" id="modalNovaConversa">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nova Conversa</h3>
                <button class="btn-fechar" id="btnFecharModal">&times;</button>
            </div>
            <div class="modal-body">
                <input type="text" id="buscaContatos" placeholder="Buscar contatos...">
                <div class="lista-contatos" id="listaContatos">
                    <!-- Contatos aparecerão aqui -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Menu -->
    <nav class="bottom-menu">
        <a href="home.html" class="menu-home">
            <i class="fa-solid fa-house"></i>
        </a>
        <a href="ranking.html" class="menu-trophy">
            <i class="fa-solid fa-trophy"></i>
        </a>
        <div class="plus">+</div>
        <a href="mensagens.html" class="menu-messages active">
            <i class="fa-solid fa-comment"></i>
        </a>
        <a href="perfil.html" class="menu-user">
            <i class="fa-solid fa-user"></i>
        </a>
    </nav>

    <script src="../static/database.js"></script>
    <script src="../static/mensagens.js"></script>
</body>
</html>
