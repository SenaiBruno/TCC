<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard App</title>
    <link rel="stylesheet" href="../static/home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="user-info" id="user-info">
                <a href="perfil.html" class="avatar-link">
                    <div class="avatar" id="user-avatar">U</div>
                </a>
                <div class="user-text">
                    <h2 id="user-greeting">Olá, Usuário!</h2>
                    <p>Vamos ao trabalho</p>
                </div>
            </div>
            <div class="bell-container">
                <a href="#" class="bell-link" id="bell-icon">
                    <i class="fa-solid fa-bell"></i>
                    <span class="notification-badge">3</span>
                </a>
                <button class="logout-btn" id="logout-btn" title="Sair">
                    <i class="fa-solid fa-right-from-bracket"></i>
                </button>
                <div class="notifications-popup" id="notifications-popup">
                    <div class="notifications-header">
                        <h3>Notificações</h3>
                        <button class="mark-all-read" id="mark-all-read">Marcar todas como lidas</button>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fa-solid fa-calendar-check"></i>
                        </div>
                        <div class="notification-content">
                            <div class="notification-title">Nova reunião agendada</div>
                            <div class="notification-desc">Reunião de equipe marcada para amanhã às 10h</div>
                            <div class="notification-time">Há 5 minutos</div>
                        </div>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fa-solid fa-file-circle-check"></i>
                        </div>
                        <div class="notification-content">
                            <div class="notification-title">Documento aprovado</div>
                            <div class="notification-desc">Seu relatório trimestral foi aprovado</div>
                            <div class="notification-time">Há 1 hora</div>
                        </div>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fa-solid fa-trophy"></i>
                        </div>
                        <div class="notification-content">
                            <div class="notification-title">Parabéns!</div>
                            <div class="notification-desc">Você alcançou 80% das metas deste mês</div>
                            <div class="notification-time">Há 2 horas</div>
                        </div>
                    </div>
                    <div class="notification-item">
                        <div class="notification-icon">
                            <i class="fa-solid fa-mug-hot"></i>
                        </div>
                        <div class="notification-content">
                            <div class="notification-title">Coffee Break</div>
                            <div class="notification-desc">Novo café especial disponível na copa</div>
                            <div class="notification-time">Ontem</div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Banner -->
        <section class="banner">
            <div class="banner-content">
                <h1>Feed de notícias<br>internas</h1>
                <button>Confira já!</button>
            </div>
            <div class="banner-icon">
                <i class="fa-solid fa-bullhorn"></i>
            </div>
        </section>

        <!-- Search -->
        <div class="search">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input type="text" placeholder="Pesquisar...">
        </div>

        <!-- Categories -->
        <h2 class="section-title">Categorias</h2>
        <div class="categories">
            <div class="cat-item">
                <div class="cat-content">
                    <div class="cat-icon"><i class="fa-solid fa-calendar"></i></div>
                    <span>Agenda</span>
                </div>
            </div>
            <div class="cat-item">
                <div class="cat-content">
                    <div class="cat-icon"><i class="fa-solid fa-file-lines"></i></div>
                    <span>Documentos</span>
                </div>
            </div>
            <div class="cat-item">
                <a class="cat-content cat-link" href="https://zxninjaxz.itch.io/conectahub" target="_blank" rel="noopener noreferrer">
                    <div class="cat-icon"><i class="fa-solid fa-gamepad"></i></div>
                    <span>Game</span>
                </a>
            </div>
            <div class="cat-item">
                <a class="cat-content cat-link" href="mensagens.html">
                    <div class="cat-icon"><i class="fa-solid fa-comments"></i></div>
                    <span>Chat</span>
                </a>
            </div>
            <div class="cat-item">
                <div class="cat-content">
                    <div class="cat-icon"><i class="fa-solid fa-mug-hot"></i></div>
                    <span>CoffeeBreak</span>
                </div>
            </div>
            <!-- Admin Panel (somente para admins) -->
            <div class="cat-item" id="admin-panel-btn" style="display: none;">
                <a class="cat-content cat-link" href="admin.html">
                    <div class="cat-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);"><i class="fa-solid fa-shield-halved" style="color: white;"></i></div>
                    <span>Admin</span>
                </a>
            </div>
            <!-- Criar Tarefa (somente para admins) -->
            <div class="cat-item" id="create-task-btn" style="display: none;">
                <div class="cat-content">
                    <div class="cat-icon" style="background: linear-gradient(135deg, #f39c12, #e67e22);"><i class="fa-solid fa-plus-circle" style="color: white;"></i></div>
                    <span>Criar Tarefa</span>
                </div>
            </div>
        </div>

        <!-- Performance -->
        <section class="performance">
            <h2>Desempenho mensal</h2>
            <div class="perf-content">
                <div class="legend">
                    <div class="legend-item">
                        <div class="color-done"></div>
                        <p id="tasks-completed">0% de tarefas concluídas</p>
                    </div>
                    <div class="legend-item">
                        <div class="color-pending"></div>
                        <p id="tasks-pending">100% de tarefas pendentes</p>
                    </div>
                </div>
                <div class="circle" id="performance-circle" data-progress="0">
                    <p><span id="progress-percent">0</span>%<br><small>Tarefas<br>totais</small></p>
                </div>
            </div>
        </section>
    </div>

    <!-- Bottom Menu -->
    <nav class="bottom-menu">
        <i class="fa-solid fa-house"></i>
        <a href="ranking.html" class="menu-trophy">
            <i class="fa-solid fa-trophy"></i>
        </a>
        <div class="plus">+</div>
        <a href="mensagens.html" class="menu-messages">
            <i class="fa-solid fa-comment"></i>
        </a>
        <a href="perfil.html" class="menu-user">
            <i class="fa-solid fa-user"></i>
        </a>
        </nav>

    <!-- Modal: Tarefas Disponíveis -->
    <div class="modal" id="modal-tasks">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fa-solid fa-list-check"></i> Tarefas disponíveis</h2>
                <span class="close-modal" id="close-tasks">&times;</span>
            </div>
            <div class="modal-body">
                <div class="tabs" id="tasks-tabs">
                    <button class="tab active" data-tab="available" id="tab-available">Disponíveis</button>
                    <button class="tab" data-tab="mine" id="tab-mine">Minhas</button>
                </div>

                <!-- Filtros (visível apenas para admin no tab Disponíveis/Todas) -->
                <div class="filters" id="tasks-filters" style="display:none;">
                    <button class="filter-pill active" data-status="all">Todos</button>
                    <button class="filter-pill" data-status="pending">Pendentes</button>
                    <button class="filter-pill" data-status="in_progress">Em progresso</button>
                    <button class="filter-pill" data-status="completed">Concluídas</button>
                </div>

                <!-- Lista: Disponíveis/Todas -->
                <div id="tasks-empty" style="display:none; color:#708090; text-align:center; padding: 12px 0;"></div>
                <div class="tasks-list" id="tasks-list"></div>

                <!-- Lista: Minhas -->
                <div id="tasks-empty-mine" style="display:none; color:#708090; text-align:center; padding: 12px 0;">Você ainda não aceitou nenhuma tarefa.</div>
                <div class="tasks-list" id="tasks-list-mine" style="display:none;"></div>
            </div>
        </div>
    </div>

    <!-- Modal de Criar Tarefa -->
    <div class="modal" id="modal-create-task">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fa-solid fa-clipboard-list"></i> Criar Nova Tarefa</h2>
                <span class="close-modal" id="close-create-task">&times;</span>
            </div>
            <div class="modal-body">
                <form id="form-create-task">
                    <div class="form-group">
                        <label for="task-title"><i class="fa-solid fa-heading"></i> Título da Tarefa</label>
                        <input type="text" id="task-title" placeholder="Digite o título da tarefa" required>
                    </div>
                    <div class="form-group">
                        <label for="task-description"><i class="fa-solid fa-align-left"></i> Descrição</label>
                        <textarea id="task-description" rows="4" placeholder="Descreva a tarefa..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="task-department"><i class="fa-solid fa-building"></i> Departamento</label>
                        <select id="task-department" required>
                            <option value="">Selecione o departamento</option>
                            <option value="ti">Tecnologia da Informação</option>
                            <option value="rh">Recursos Humanos</option>
                            <option value="financeiro">Financeiro</option>
                            <option value="marketing">Marketing</option>
                            <option value="vendas">Vendas</option>
                            <option value="operacoes">Operações</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="task-points"><i class="fa-solid fa-star"></i> Pontos XP</label>
                        <input type="number" id="task-points" min="5" max="100" value="10" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">
                            <i class="fa-solid fa-check"></i> Criar Tarefa
                        </button>
                        <button type="button" class="btn-secondary" id="cancel-create-task">
                            <i class="fa-solid fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="../static/database.js"></script>
    <script src="../static/home.js"></script>
</body>

</html>